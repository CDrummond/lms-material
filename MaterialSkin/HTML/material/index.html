<!--
 * LMS-Material
 *
 * Copyright (c) 2018-2020 Craig Drummond <craig.p.drummond@gmail.com>
 * MIT license.
-->
 
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  <title>Logitech Media Server</title>
  <link href="html/font/font.css?r=49" rel="stylesheet">
  <!--CSS start-->
  <link href="html/lib/vuetify.min.css?r=1.5.24" rel="stylesheet">
  <link href="html/lib/vue-virtual-scroller.css?r=1.0.4" rel="stylesheet">
  <link href="html/lib/photoswipe/photoswipe.min.css?r=4.1.2" rel="stylesheet">
  <link href="html/lib/photoswipe/default-skin/default-skin.min.css?r=4.1.2" rel="stylesheet">
  <!--CSS end-->
  [% PERL %]
  my $version=Plugins::MaterialSkin::Plugin->pluginVersion();
  my $ua=$stash->get('userAgent');
  print("<link href=\"html/css/themes/");
  # Keep in sync with store.js (defaultTheme)
  if (index($ua, 'Android') != -1) {
      print("darker");
  } elsif (index($ua, 'iPad') != -1 || index($ua, 'iPhone') != -1 || index($ua, 'MobileSafari') != -1) { # || (index($ua, 'Macintosh') != -1 && index($ua, '(KHTML, like Gecko) Version') != -1)) {
      print("light");
  } elsif (index($ua, 'Linux') != -1) {
      print("linux/dark/Adwaita-Dark");
  } elsif (index($ua, 'Win') != -1) {
     print("windows/dark/Windows-10-Dark");
  } elsif (index($ua, 'Mac') != -1) {
     print("mac/dark/Mojave-Dark");
  } else {
      print("dark");
  }
  print(".css?r=$version\" rel=\"stylesheet\" id=\"themecss\" rel=\"stylesheet\" onerror=\"setTheme('dark')\">\n");
  print("  <link href=\"html/css/variant/standard.css?r=$version\" rel=\"stylesheet\" id=\"variantcss\">\n");
  print("  <link href=\"html/css/colors/blue.css?r=$version\" rel=\"stylesheet\" id=\"colorcss\">\n");
  print("  <link href=\"html/css/style.css?r=$version\" rel=\"stylesheet\">\n");
  print("  <link href=\"html/css/mobile.css?r=$version\" rel=\"stylesheet\" id=\"layoutcss\">");
  [% END %]
  <link href="/material/customcss/mobile" rel="stylesheet" id="customcss">
  <link href="/material/material.webmanifest" rel="manifest">
  <link href="/material/icon.png" rel="icon shortcut" sizes="128x128">
  <link href="/material/icon.png" rel="apple-touch-icon" sizes="128x128">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="application-name" content="Logitech Media Server">
 </head>
 <body>
  <div id="app" v-cloak>
   <v-app class="lms-app" :dark="darkUi" v-touch:swipe.left="swipe" v-touch:swipe.right="swipe" v-touch:start="touchStart" v-touch:end="touchEnd">
    <lms-currentcover></lms-currentcover>
    <lms-mediasession></lms-mediasession>
    <lms-server></lms-server>
    <lms-toolbar></lms-toolbar>
    <div v-if="desktopLayout" class="lms-desktop-toolbar-pad"></div>
    <vue-splitter :margin="desktopLayout ? 20 : 0" :percent="desktopLayout ? splitterPercent : 0" @resize="splitterResized" class="hide-for-mini">
     <div slot="left-pane"><lms-browse v-show="desktopLayout || page=='browse'"></lms-browse></div>
     <div slot="right-pane"><lms-queue v-show="desktopLayout || page=='queue'"></lms-queue></div>
    </vue-splitter>
    <lms-now-playing v-show="desktopLayout || page=='now-playing'"></lms-now-playing>
    <lms-bottomnav v-if="!desktopLayout"></lms-bottomnav>
    <lms-ui-settings v-if="dialogs.uisettings"></lms-ui-settings>
    <lms-player-settings v-if="dialogs.playersettings"></lms-player-settings>
    <lms-information-dialog v-if="dialogs.info"></lms-information-dialog>
    <lms-sync-dialog v-if="dialogs.sync"></lms-sync-dialog>
    <lms-groupplayers-dialog v-if="dialogs.group"></lms-groupplayers-dialog>
    <lms-volume v-if="dialogs.volume"></lms-volume>
    <lms-manage-players v-if="dialogs.manage"></lms-manage-players>
    <lms-randommix v-if="dialogs.rndmix"></lms-randommix>
    <lms-favorite v-if="dialogs.favorite"></lms-favorite>
    <lms-rating-dialog v-if="dialogs.rating"></lms-rating-dialog>
    <lms-sleep-dialog v-if="dialogs.sleep"></lms-sleep-dialog>
    <lms-search-dialog v-if="dialogs.search"></lms-search-dialog>
    <lms-movequeue-dialog v-if="dialogs.movequeue"></lms-movequeue-dialog>
    <lms-podcast-add-dialog v-if="dialogs.podcastadd"></lms-podcast-add-dialog>
    <lms-podcast-search-dialog v-if="dialogs.podcastsearch"></lms-podcast-search-dialog>
    <lms-info-dialog v-if="dialogs.iteminfo"></lms-info-dialog>
    <lms-iframe-dialog v-if="dialogs.iframe"></lms-iframe-dialog>
    <lms-dstm-dialog v-if="dialogs.dstm"></lms-dstm-dialog>
    <lms-savequeue v-if="dialogs.savequeue"></lms-savequeue>
    <lms-icon-dialog v-if="dialogs.icon"></lms-icon-dialog>
    <lms-confirm-dialog v-if="dialogs.confirm"></lms-confirm-dialog>
    <lms-screensaver></lms-screensaver>
    <lms-volumeoverlay></lms-volumeoverlay>
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
     <div class="pswp__bg"></div>
     <div class="pswp__scroll-wrap">
      <div class="pswp__container">
       <div class="pswp__item"></div>
       <div class="pswp__item"></div>
       <div class="pswp__item"></div>
      </div>
      <div class="pswp__ui pswp__ui--hidden">
       <div class="pswp__top-bar">
        <div class="pswp__counter"></div>
        <button class="pswp__button pswp__button--close"></button>
        <button class="pswp__button pswp__button--fs"></button>
        <button class="pswp__button pswp__button--zoom"></button>
        <div class="pswp__preloader">
         <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
           <div class="pswp__preloader__donut"></div>
          </div>
         </div>
        </div>
       </div>
       <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div>
       </div>
       <button class="pswp__button pswp__button--arrow--left"></button>
       <button class="pswp__button pswp__button--arrow--right"></button>
       <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
       </div>
      </div>
     </div>
    </div>
   </v-app>
  </div>
  <!--JS start-->
  <script src="html/lib/axios.min.js?r=0.19.2"></script>
  <script src="html/lib/libcometd.min.js?r=4.0.3mod2"></script>
  <script src="html/lib/idb-keyval-iife.min.js?r=3.1.0p50"></script>
  <script src="html/lib/vue.min.js?r=2.6.11"></script>
  <script src="html/lib/vuetify.min.js?r=1.5.24"></script>
  <script src="html/lib/vuex.min.js?r=3.3.0"></script>
  <script src="html/lib/vue-lazyload.js?r=1.3.3"></script>
  <script src="html/lib/intersection-observer.min.js?r=0.5.0"></script>
  <script src="html/lib/vue-virtual-scroller.min.js?r=1.0.4"></script>
  <script src="html/lib/photoswipe/photoswipe.min.js?r=4.1.2"></script>
  <script src="html/lib/photoswipe/photoswipe-ui-default.min.js?r=4.1.2"></script>
  <script src="html/lib/vue-splitter.js?r=1.3.0m1"></script>
  <script src="html/lib/vue-touch-events.min.js?r=2.2.1pre1502"></script>
  <script src="html/lib/mousetrap.min.js?r=a4098"></script>
  [% PERL %]
  my $version=Plugins::MaterialSkin::Plugin->pluginVersion();
  print("<script>const LMS_MATERIAL_REVISION=\"$version\";</script>\n");
  print("  <script src=\"html/lib/longpress.min.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/actions.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/constants.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/confirm-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/customactions.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/standarditems.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/emblems.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/currentcover.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/utils.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/lmsoptions.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/mediasession.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/toolbar.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/bottomnav.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/icon-mapping.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/browse-resp.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/browse-page.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/nowplaying-page.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/queue-page.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/sync-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/groupplayers-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/server.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/ui-settings.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/player-settings.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/volume.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/information.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/randommix-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/rating-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/manage-players.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/favorite-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/sleep-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/search-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/movequeue-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/podcast-add-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/podcast-search-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/info-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/iframe-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/icon-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/dstm-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/savequeue-dialog.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/screensaver.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/volume-overlay.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/i18n.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/store.js?r=$version\"></script>\n");
  print("  <script src=\"html/js/main.js?r=$version\"></script>");
  [% END %]
  <!--JS end-->
 </body>
</html>

